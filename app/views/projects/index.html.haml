%p.text-success
= notice

.row.justify-content-evenly.align-items-center
  .col
    %div{ :class => 'card' }
      %div{ :class => 'card-body' }
        %div{ :class => 'row g-3 align-items-center'}
          %div{ :class => 'col-auto' }
            %h1.text-center PROJEKTY
            = link_to 'Nový projekt', new_project_path, { class: 'btn btn-info' }
    %hr

#projects.table-responsive

  %table.table.align-middle

    %thead

      %tr
        %th{ :scope => "col" } #

        %th{ :scope => "col" } Název

        %th{ :scope => "col" } Popis projektu

        %th{ :scope => "col" } Datum přidání

        %th{ :scope => "col" } Počet úkolů

    %tbody.table-group-divider

      - @projects.each do |project|

        %tr

          %th{ :scope => "row" }
            = project.id

          %th= link_to project.name, project

          %td{ :style => "word-wrap: break-word;min-width: 160px;max-width: 300px; max-height: 300px;" }
            = truncate(project.description, length: 300, omission: " ...")

          %td= project.created_at.strftime("%d.%m/%Y")

          %td{ :scope => "col" }
            = project.id

          %td
            %div{ :class => "btn-group", :role => "group" }

              = link_to "Zobrazit", project, { class: "btn btn-sm btn-outline-primary"  }

              = link_to 'Upravit', edit_project_path(project), { class: 'btn btn-sm btn-outline-primary' }

              = button_to 'Smazat', project, method: :delete, class: 'btn btn-sm btn-outline-danger'
